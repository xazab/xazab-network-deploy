---

- name: disable pay-faucet
  systemd:
    name: 'pay-faucet'
    state: stopped
    enabled: False
  failed_when: False

- name: disable xazabd-generate-miner
  systemd:
    name: 'xazabd-generate-miner'
    state: stopped
    enabled: False
  failed_when: False

- name: stop all docker containers
  shell: if [ -n "$(docker container ls -a -q)" ]; then docker container stop $(docker container ls -a -q); fi

- name: remove all docker data
  shell: docker system prune -a -f --volumes

- name: delete xazab home dir
  file:
      state: absent
      path: "{{ xazabd_home }}/"
